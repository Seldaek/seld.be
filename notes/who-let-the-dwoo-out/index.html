<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="description" content="Dwoo announcement - my new php5 template engine">

        <meta property="og:title" content="Who let the Dwoo out ? | Jordi&#039;s Ramblings"/>
        <meta property="og:type" content="article" />
        <meta property="og:url" content="https://seld.be/notes/who-let-the-dwoo-out"/>
        <meta property="og:description" content="Dwoo announcement - my new php5 template engine" />

        <title>Who let the Dwoo out ? | Jordi&#039;s Ramblings</title>

        <link rel="home" href="https://seld.be">
        <link rel="icon" href="/favicon.ico">
        <link rel="me" href="https://mastodon.social/@seldaek">
        <link href="/feed.atom" type="application/atom+xml" rel="alternate" title="Jordi&#039;s Ramblings Atom Feed">

                    <script async src="https://www.googletagmanager.com/gtag/js?id=G-QGN4JJEDTM"></script>
            <script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments);}
              gtag('js', new Date());
              gtag('config', 'G-QGN4JJEDTM');
            </script>
        
        <!-- TODO self-host this -->
        <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:300,300i,400,400i,700,700i,800,800i" rel="stylesheet">
        <link rel="stylesheet" href="/assets/build/css/main.css?id=d00f50ff97ec6d83fcce">
    </head>

    <body class="flex flex-col justify-between min-h-screen text-gray-800 dark:text-green-500 leading-normal font-sans dark:font-mono bg-gray-100 dark:bg-gray-800">
        <header class="flex items-center shadow bg-white dark:bg-gray-900 border-b dark:border-green-300 h-24 py-4" role="banner">
            <div class="container flex items-center max-w-4xl mx-auto px-4 lg:px-8">
                <div class="flex items-center">
                    <a href="/" title="Jordi&#039;s Ramblings home" class="inline-flex items-center">
                        <h1 class="text-lg md:text-2xl text-blue-800 dark:text-green-400 font-semibold hover:text-blue-600 dark:hover:text-green-200 my-0">Jordi&#039;s Ramblings</h1>
                    </a>
                </div>

                <div id="vue-search" class="flex flex-1 justify-end items-center">
                    <search></search>

                    <nav class="hidden lg:flex items-center justify-end text-lg">
    <a title="Jordi&#039;s Ramblings Blog" href="/notes"
        class="ml-6 text-gray-700 hover:text-blue-600 dark:text-green-500 dark:hover:text-green-400 ">
        Blog
    </a>

    <a title="Jordi&#039;s Ramblings About" href="/about"
        class="ml-6 text-gray-700 hover:text-blue-600 dark:text-green-500 dark:hover:text-green-400 ">
        About
    </a>

    <a title="Jordi&#039;s Ramblings Atom Feed" href="/feed.atom"
        class="ml-6 text-gray-700 hover:text-blue-600 dark:text-green-500 dark:hover:text-green-400">
        Feed
    </a>

    <a title="Dark Mode" class="ml-4 cursor-pointer toggle-dark dark:hidden inline-block">ðŸ•¶</a>

    <a title="Light Mode" class="ml-4 cursor-pointer toggle-dark hidden dark:inline-block">â˜€</a>
</nav>

                    <button class="flex justify-center items-center bg-blue-500 border border-blue-500 dark:bg-green-400 dark:border-green-400 h-10 px-5 rounded-full lg:hidden focus:outline-none"
    onclick="navMenu.toggle()"
>
    <svg id="js-nav-menu-show" xmlns="http://www.w3.org/2000/svg"
        class="fill-current text-white h-9 w-4" viewBox="0 0 32 32"
    >
        <path d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"/>
    </svg>

    <svg id="js-nav-menu-hide" xmlns="http://www.w3.org/2000/svg"
        class="hidden fill-current text-white h-9 w-4" viewBox="0 0 36 30"
    >
        <polygon points="32.8,4.4 28.6,0.2 18,10.8 7.4,0.2 3.2,4.4 13.8,15 3.2,25.6 7.4,29.8 18,19.2 28.6,29.8 32.8,25.6 22.2,15 "/>
    </svg>
</button>

                </div>
            </div>
        </header>

        <nav id="js-nav-menu" class="w-auto px-2 pt-6 pb-2 bg-gray-200 dark:bg-gray-700 shadow hidden lg:hidden">
    <ul class="my-0">
        <li class="pl-4 list-none">
            <a
                title="Jordi&#039;s Ramblings Blog"
                href="/notes"
                class="block mt-0 mb-4 text-sm no-underline text-gray-800 hover:text-blue-500 dark:text-green-300 dark:hover:text-green-100"
            >Blog</a>
        </li>
        <li class="pl-4 list-none">
            <a
                title="Jordi&#039;s Ramblings About"
                href="/about"
                class="block mt-0 mb-4 text-sm no-underline text-gray-800 hover:text-blue-500 dark:text-green-300 dark:hover:text-green-100"
            >About</a>
        </li>
        <li class="pl-4 list-none">
            <a
                title="Jordi&#039;s Ramblings Atom Feed"
                href="/feed.atom"
                class="block mt-0 mb-4 text-sm no-underline text-gray-800 hover:text-blue-500 dark:text-green-300 dark:hover:text-green-100"
            >Feed</a>
        </li>
    </ul>
</nav>

        <main role="main" class="flex-auto w-full container max-w-4xl mx-auto bg-white dark:bg-black mt-6 p-6">
                
    <h1 class="leading-none mb-2">Who let the Dwoo out ?</h1>

    <p class="text-gray-700 dark:text-green-700 text-xl md:mt-0">Jordi Boggiano  â€¢  May 13, 2008</p>

                        <a
                href="/categories/php"
                title="View posts in php"
                class="inline-block bg-gray-300 text-gray-800 hover:bg-blue-200 dark:bg-gray-600 dark:text-green-200 dark:hover:bg-green-800 leading-loose tracking-wide uppercase text-xs font-semibold rounded mr-4 px-3 pt-px mb-10"
            >php</a>
            
    <div class="border-b border-blue-200 dark:border-green-200 mb-10 pb-4" v-pre>
        <p>Four months have passed since I started on this project and I finally feel that it is stable enough to make an announcement and have more people trying it.</p>

<p>So what is it ? <a href="http://dwoo.org/">Dwoo</a> is a PHP5 template engine. Another one you might think, indeed but with every new project comes a new vision, and hopefully you will like mine.</p>

<p>If you you don't like chatter, feel free to skip to <a href="http://dwoo.org/download">download</a>.</p>

<h4>History</h4>

<p>Early this year I wanted to rebuild my template engine to have something stronger to work with, so I started thinking about it and then asked myself why I didn't use one of the available engines out there. The fact is that -and I guess I will lose many of my few readers here- I am not fond of using php itself as a template engine (with Savant or similar).</p>

<p>The two main reasons are that the syntax is too heavy for short variable insertions and that I want to allow end users to edit templates themselves on a site I'm working on. Obviously giving them access to the php files is not an option, so I was left with Smarty-like engines. Most of them are slow, too old, not maintained anymore or just plain ugly, so I didn't like that either.</p>

<p>Smarty being one of the most popular engines, I decided to look at its features to build up my road map, the point being that I knew from the start where I was headed, which has allowed me to avoid many of the weirdnesses that you can find within Smarty. Those being due to backwards compatibility issues or simply the fact that it has been built layer upon layer during many years.</p>

<p>Hence Dwoo was born, built to support (most of) Smarty features at first, but then extended to provide new ways to build templates more efficiently. I also thought that since it followed Smarty features so closely, I should make an easy upgrade path from Smarty to Dwoo. This is possible with the help of an adapter class that translates the Smarty API calls, effectively cloaking Dwoo as a Smarty object.</p>

<p>That means it takes seconds to switch to Dwoo if your app runs Smarty on PHP5 (and well, if you don't use one of the few <a href="http://wiki.dwoo.org/index.php/SmartySupport">unsupported features</a>), and then you can <a href="http://wiki.dwoo.org/index.php/SmartyAdapter">make the move</a> smoothly.</p>

<h4>Features</h4>

<p>I will try to sum up the main features added on top of the Smarty stuff (vars replacement, loops, conditions, caching), feel free to look at the wiki for more detailed examples. Although documentation is a bit scarce at the moment, I will now focus on filling the wiki.</p>

<p>Dwoo is a scope aware engine, <a href="http://wiki.dwoo.org/index.php/Blocks:loop">some</a> <a href="http://wiki.dwoo.org/index.php/Blocks:with">plugins</a> are provided that allow you to change the current scope and there are special variables that read the current, parent or top level (global) scope. One of those plugins is the <a href="http://wiki.dwoo.org/index.php/Blocks:loop">loop</a> plugin, that iterates over an array and moves the scope within each value, I won't lie it is a tad slower than a pure foreach loop, but if you compare PHP's <em>&lt;?php echo $item&#91;'name'&#93;; ?&gt;</em> to simply <em>{$name}</em>, it makes the template much shorter and easier to read, so it is probably worth the performance loss unless you are under a lot of traffic - but in this case you might want to use caching anyway.</p>

<p><a href="http://wiki.dwoo.org/index.php/TemplateInheritance">Template inheritance</a>, a concept that I discovered while looking at <a href="http://www.djangoproject.com/">Django</a> -a Python framework-, had not yet been ported into any PHP template engine as far as I know. It is basically a new way to build complex template structures by having templates inherit parent templates instead of parent templates including child templates.</p>

<p>Plugins/functions can be <a href="http://wiki.dwoo.org/index.php/Syntax#Functions">called</a> with named arguments as you do in Smarty, but they can also be called without argument names, which is really convenient and easier in most cases.</p>

<p>About plugins, my main issue with Smarty was the use of a $params array that received all parameters as an associative array. The way I solved this is that you just <a href="http://wiki.dwoo.org/index.php/WritingPlugins">create your plugin</a> with all the parameters you want, with or without default values, and then Dwoo's compiler uses <a href="http://ch2.php.net/Reflection">reflection</a> to reorder the parameters in the correct place, checks that arguments with no default value are set in the template, etc. This saves a lot of <em>if(isset($params&#91;'bleh'&#93;))</em> junk in the plugins, and there is still the possibility to use a parameter array if a plugin requires it.</p>

<p>Now if you're still with me I hope you will consider trying it, just <a href="http://dwoo.org/download">download it</a> and <a href="http://wiki.dwoo.org/index.php/GettingStarted">get started</a>.</p>
    </div>

    <nav class="flex justify-between text-sm md:text-base">
        <div>
                            <a href="https://seld.be/notes/random-seeds-ordering-disorder" title="Older Post: Random Seeds - Ordering Disorder">
                    &LeftArrow; Random Seeds - Ordering Disorder
                </a>
                    </div>

        <div>
                            <a href="https://seld.be/notes/installing-habari-on-lighttpd" title="Newer Post: Installing Habari on Lighttpd">
                    Installing Habari on Lighttpd &RightArrow;
                </a>
                    </div>
    </nav>
        </main>

        <footer class="bg-white dark:bg-gray-900 text-center text-sm mt-12 py-4" role="contentinfo">
            <ul class="flex flex-col md:flex-row justify-center">
                <li class="list-none md:mr-2">
                    <a href="https://twitter.com/seldaek">Twitter</a>
                </li>
                <li class="list-none md:mr-2">
                    <a href="mailto:j.boggiano@seld.be">E-Mail</a>
                </li>
                <li class="list-none md:mr-2">
                    <a href="https://github.com/Seldaek">GitHub</a>
                </li>
                <li class="list-none md:mr-2">
                    <a href="/wishlist">Wishlist</a>
                </li>
                <li class="list-none">
                    All content &copy; Jordi Boggiano 2006-2025.
                </li>
            </ul>
        </footer>

        <script src="/assets/build/js/main.js?id=d987125254011a3fac10"></script>

        <script>
    const navMenu = {
        toggle() {
            const menu = document.getElementById('js-nav-menu');
            menu.classList.toggle('hidden');
            menu.classList.toggle('lg:block');
            document.getElementById('js-nav-menu-hide').classList.toggle('hidden');
            document.getElementById('js-nav-menu-show').classList.toggle('hidden');
        },
    }
</script>
    </body>
</html>
